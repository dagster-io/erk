# Ensure uv is available
if ! command -v uv &> /dev/null; then
  log_error "uv is required but not installed"
  return 1
fi

# Create venv if it doesn't exist
if [[ ! -d .venv ]]; then
  log_status "Creating virtual environment with uv sync..."
  uv sync
fi

# Activate the virtual environment
export VIRTUAL_ENV="$PWD/.venv"
PATH_add "$VIRTUAL_ENV/bin"

# Load .env if present
dotenv_if_exists
